/*!
 * 
 * ScatterJS - plugin-lynx v1.6.46
 * https://github.com/GetScatter/scatter-js/
 * Released under the MIT license.
 * 				
 */!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=295)}({0:function(t,n,e){t.exports=e(21)},1:function(t,n){function e(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}}},10:function(t,n,e){var r=e(20);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}},13:function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},r(n)}t.exports=r},19:function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},2:function(t,n){t.exports=ScatterJS},20:function(t,n){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},e(n,r)}t.exports=e},21:function(t,n,e){var r=function(t){"use strict";var n,e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,i=Object.create(o.prototype),a=new _(r||[]);return i._invoke=function(t,n,e){var r=f;return function(o,i){if(r===l)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return T()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var u=S(a,e);if(u){if(u===y)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=h,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=l;var c=s(t,n,e);if("normal"===c.type){if(r=e.done?h:p,c.arg===y)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=h,e.method="throw",e.arg=c.arg)}}}(t,e,a),i}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",l="executing",h="completed",y={};function d(){}function v(){}function m(){}var w={};w[i]=function(){return this};var b=Object.getPrototypeOf,g=b&&b(b(j([])));g&&g!==e&&r.call(g,i)&&(w=g);var x=m.prototype=d.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function L(t){var n;this._invoke=function(e,o){function i(){return new Promise((function(n,i){!function n(e,o,i,a){var u=s(t[e],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):Promise.resolve(f).then((function(t){c.value=t,i(c)}),(function(t){return n("throw",t,i,a)}))}a(u.arg)}(e,o,n,i)}))}return n=n?n.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,S(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function O(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function k(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:T}}function T(){return{value:n,done:!0}}return v.prototype=x.constructor=m,m.constructor=v,m[u]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===v||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(L.prototype),L.prototype[a]=function(){return this},t.AsyncIterator=L,t.async=function(n,e,r,o){var i=new L(c(n,e,r,o));return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),x[u]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(r,o){return u.type="throw",u.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),y}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},295:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return S}));var r=e(5),o=e.n(r),i=e(3),a=e.n(i),u=e(4),c=e.n(u),s=e(8),f=e.n(s),p=e(9),l=e.n(p),h=e(10),y=e.n(h),d=e(0),v=e.n(d),m=e(1),w=e.n(m),b=e(2),g=!1;"undefined"!=typeof window&&(void 0===window.lynxMobile?window.addEventListener("lynxMobileLoaded",(function(){return g=!0})):g=!0);var x=function(){var t=w()(v.a.mark((function t(){var n,e,r=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=0<r.length&&void 0!==r[0]?r[0]:null,e=1<r.length&&void 0!==r[1]?r[1]:0,t.abrupt("return",new Promise((function(t){return n||(n=t),g?n(!0):5<e?n(!1):void setTimeout((function(){return x(n,e+1)}),100)})));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(t){for(var n="",e=new DataView(t),r=0;r<e.byteLength;r+=4)"00000000",n+=("00000000"+e.getUint32(r).toString(16)).slice(-8);return n},L=function(){var t=w()(v.a.mark((function t(n){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new TextEncoder("utf-8").encode(n),t.t0=E,t.next=4,crypto.subtle.digest("SHA-256",e);case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(t){function n(t){var e;if(a()(this,n),e=f()(this,l()(n).call(this,b.Blockchains.EOS,b.PluginTypes.WALLET_SUPPORT)),!t)return console.error("Lynx Plugin: You must pass in an eosjs version. Either ({Api, JsonRpc}) for eosjs2 or (Eos) for eosjs1"),f()(e);if(e.name="Lynx",e.isEosjs2=!1,t.hasOwnProperty("JsonRpc"))e.eosjs=t,e.isEosjs2=!0;else{if("function"!=typeof t)throw new Error("Lynx Plugin: Invalid eosjs. Please use 16.0.9 or 20+");e.eosjs=t}return e}return y()(n,t),c()(n,[{key:"init",value:function(t,n,e){this.context=t,this.holderFns=n,this.socketSetters=e}},{key:"connect",value:function(){var t=w()(v.a.mark((function t(n){var e=this;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.plugin=n,t.abrupt("return",new Promise(function(){var t=w()(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:t.sent&&(!e.holderFns.get().wallet&&(e.holderFns.get().wallet=e.name),n(!0));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"runAfterInterfacing",value:function(){var t=w()(v.a.mark((function t(){var n,e=this;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.methods()[b.WALLET_METHODS.getIdentity](),n={sendApiRequest:function(t){return e.methods()[t.type](t.payload)}},this.socketSetters.map((function(t){return t(n)})),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"methods",value:function(){var t,n=this;return t={},o()(t,b.WALLET_METHODS.isConnected,w()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})))),o()(t,b.WALLET_METHODS.disconnect,w()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})))),o()(t,b.WALLET_METHODS.isPaired,w()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})))),o()(t,b.WALLET_METHODS.getIdentity,function(){var t=w()(v.a.mark((function t(e){var r,o,i,a,u,c,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e||(e={}),o=e.hasOwnProperty("accounts")&&e.accounts.length?e.accounts[0].chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",t.next=4,window.lynxMobile.requestSetAccount();case 4:if(i=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(a=i.account.permissions.find((function(t){return"active"===t.perm_name})),u=a.required_auth.keys[0].key,(c=i.chainId||o)===o){t.next=12;break}throw new Error('User does not have an account with the chainId "'.concat(o,'" selected in Lynx.'));case 12:return s=[{name:i.account.account_name,authority:a.perm_name,publicKey:u,blockchain:b.Blockchains.EOS,isHardware:!1,chainId:c}],r={name:s[0].name,accounts:s,publicKey:u},n.context.identity=r,t.abrupt("return",r);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),o()(t,b.WALLET_METHODS.forgetIdentity,w()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.context.identity=null,t.abrupt("return",!0);case 2:case"end":return t.stop()}}),t)})))),o()(t,"identityFromPermissions",function(){var t=w()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.context.identity);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),o()(t,b.WALLET_METHODS.getIdentityFromPermissions,w()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.context.identity);case 1:case"end":return t.stop()}}),t)})))),o()(t,b.WALLET_METHODS.getArbitrarySignature,(function(t,e){var r=b.SocketService.getOriginOrPlugin(n.plugin);return window.lynxMobile.requestArbitrarySignature({data:e,whatFor:"".concat(r," is requesting an arbitrary signature")})})),o()(t,b.WALLET_METHODS.authenticate,function(){var t=w()(v.a.mark((function t(e){var r,o,i,a=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=1<a.length&&void 0!==a[1]?a[1]:null,2<a.length&&void 0!==a[2]?a[2]:null,o=b.SocketService.getOriginOrPlugin(n.plugin),r=r||o,t.t0=L,t.next=7,L(r);case 7:return t.t1=t.sent,t.next=10,L(e);case 10:return t.t2=t.sent,t.t3=t.t1+t.t2,t.next=14,(0,t.t0)(t.t3);case 14:return i=t.sent,t.abrupt("return",window.lynxMobile.requestArbitrarySignature({data:i,whatFor:"".concat(o," wants to authenticate your public key")}));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),o()(t,b.WALLET_METHODS.requestSignature,function(){var t=w()(v.a.mark((function t(e){var r,o,i,a,u,c,s,f,p,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.abis,r=e.transaction,o=e.network,!n.isEosjs2){t.next=12;break}return a=new n.eosjs.JsonRpc(b.Network.fromJson(o).fullhost()),u={rpc:a},Object.keys(n.eosjs).map((function(t){"JsonRpc"===t||"Api"===t||(u[t]=n.eosjs[t])})),c=new n.eosjs.Api(u),r.abis.map((function(t){var n=t.account_name,e=t.abi;return c.cachedAbis.set(n,{rawAbi:e,abi:c.rawAbiToJson(e)})})),t.next=9,c.deserializeTransactionWithActions(r.serializedTransaction);case 9:i=t.sent,t.next=24;break;case 12:return s=new n.eosjs({httpEndpoint:b.Network.fromJson(o).fullhost(),chainId:o.chainId}),f={},p=r.actions.map((function(t){return t.account})).reduce((function(t,n){return t.includes(n)||t.push(n),t}),[]),t.next=17,Promise.all(p.map(function(){var t=w()(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.contract(n);case 2:f[n]=t.sent.fc;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()));case 17:return t.next=19,Promise.all(r.actions.map(function(){var t=w()(v.a.mark((function t(n){var e,r,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.account,r=f[e],o=r.abi.actions.find((function(t){return t.name===n.name})).type,i=r.fromBuffer(o,n.data),r.abi.actions.find((function(t){return t.name===n.name})),s.fc.abiCache.abi(e,r.abi),t.abrupt("return",{data:i,account:n.account,name:n.name,authorization:n.authorization});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()));case 19:t.t0=t.sent,i={actions:t.t0},delete(l=Object.assign({},r)).actions,i=Object.assign(i,l);case 24:return t.abrupt("return",window.lynxMobile.requestSignature(i));case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),o()(t,b.WALLET_METHODS.requestTransfer,(function(t,n,e){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.contract,i=r.symbol,a=r.memo;r.decimals;return o||(o="eosio.token"),i||(i="EOS"),window.lynxMobile.transfer({contract:o,symbol:i,toAccount:n,amount:e,memo:a})})),t}}]),n}(b.Plugin);"undefined"!=typeof window&&(window.ScatterLynx=S)},3:function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},4:function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},5:function(t,n){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},8:function(t,n,e){var r=e(13),o=e(19);t.exports=function(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?o(t):n}},9:function(t,n){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJTY2F0dGVySlNcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3BsdWdpbi1seW54L3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwicmVzb2x2ZSIsInJlamVjdCIsIl9uZXh0IiwiX3Rocm93IiwiYXJnIiwiaW5mbyIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiZm4iLCJzZWxmIiwidGhpcyIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImVyciIsInVuZGVmaW5lZCIsInNldFByb3RvdHlwZU9mIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiVHlwZUVycm9yIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIl90eXBlb2YyIiwib2JqIiwiaXRlcmF0b3IiLCJfdHlwZW9mIiwiUmVmZXJlbmNlRXJyb3IiLCJTY2F0dGVySlMiLCJfc2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJydW50aW1lIiwiT3AiLCJoYXNPd24iLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwid3JhcCIsImlubmVyRm4iLCJvdXRlckZuIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNvbnRleHQiLCJDb250ZXh0IiwiX2ludm9rZSIsInN0YXRlIiwiR2VuU3RhdGVTdXNwZW5kZWRTdGFydCIsIm1ldGhvZCIsIkdlblN0YXRlRXhlY3V0aW5nIiwiRXJyb3IiLCJHZW5TdGF0ZUNvbXBsZXRlZCIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsIkdlblN0YXRlU3VzcGVuZGVkWWllbGQiLCJtYWtlSW52b2tlTWV0aG9kIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiaW52b2tlIiwicmVzdWx0IiwiX19hd2FpdCIsInVud3JhcHBlZCIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwibGVuZ3RoIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsIm1hcmsiLCJhd3JhcCIsImFzeW5jIiwiaXRlciIsInRvU3RyaW5nIiwia2V5cyIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJGdW5jdGlvbiIsImlzQXZhaWxhYmxlIiwid2luZG93IiwibHlueE1vYmlsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwb2xsRXhpc3RlbmNlIiwiYSIsInJlc29sdmVyIiwidHJpZXMiLCJzZXRUaW1lb3V0IiwiaGFzaEhleCIsImJ1ZmZlciIsImRpZ2VzdCIsInZpZXciLCJEYXRhVmlldyIsImJ5dGVMZW5ndGgiLCJnZXRVaW50MzIiLCJzaGEyNTYiLCJkYXRhIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJjcnlwdG8iLCJzdWJ0bGUiLCJTY2F0dGVyTHlueCIsImVvc2pzIiwiQmxvY2tjaGFpbnMiLCJFT1MiLCJQbHVnaW5UeXBlcyIsIldBTExFVF9TVVBQT1JUIiwiY29uc29sZSIsImlzRW9zanMyIiwiaG9sZGVyRm5zIiwic29ja2V0U2V0dGVycyIsInBsdWdpbk5hbWUiLCJwbHVnaW4iLCJ3YWxsZXQiLCJtZXRob2RzIiwiV0FMTEVUX01FVEhPRFMiLCJnZXRJZGVudGl0eSIsInNlbGZTb2NrZXQiLCJzZW5kQXBpUmVxdWVzdCIsIngiLCJwYXlsb2FkIiwibWFwIiwiaXNDb25uZWN0ZWQiLCJkaXNjb25uZWN0IiwiaXNQYWlyZWQiLCJyZXF1aXJlZEZpZWxkcyIsInJlcXVlc3RlZENoYWluSWQiLCJhY2NvdW50cyIsImNoYWluSWQiLCJyZXF1ZXN0U2V0QWNjb3VudCIsImFjY291bnRTdGF0ZSIsInBlcm0iLCJhY2NvdW50IiwicGVybWlzc2lvbnMiLCJmaW5kIiwicGVybV9uYW1lIiwicHVibGljS2V5IiwicmVxdWlyZWRfYXV0aCIsImFjY291bnRfbmFtZSIsImF1dGhvcml0eSIsImJsb2NrY2hhaW4iLCJpc0hhcmR3YXJlIiwiaWRlbnRpdHkiLCJmb3JnZXRJZGVudGl0eSIsImdldElkZW50aXR5RnJvbVBlcm1pc3Npb25zIiwiZ2V0QXJiaXRyYXJ5U2lnbmF0dXJlIiwib3JpZ2luIiwiU29ja2V0U2VydmljZSIsImdldE9yaWdpbk9yUGx1Z2luIiwicmVxdWVzdEFyYml0cmFyeVNpZ25hdHVyZSIsIndoYXRGb3IiLCJhdXRoZW50aWNhdGUiLCJub25jZSIsInRvU2lnbiIsInJlcXVlc3RTaWduYXR1cmUiLCJhYmlzIiwidHJhbnNhY3Rpb24iLCJuZXR3b3JrIiwicnBjIiwiSnNvblJwYyIsIk5ldHdvcmsiLCJmcm9tSnNvbiIsImZ1bGxob3N0IiwiT1BUSU9OUyIsImFwaSIsIkFwaSIsInJhd0FiaSIsImFiaSIsImNhY2hlZEFiaXMiLCJzZXQiLCJyYXdBYmlUb0pzb24iLCJkZXNlcmlhbGl6ZVRyYW5zYWN0aW9uV2l0aEFjdGlvbnMiLCJzZXJpYWxpemVkVHJhbnNhY3Rpb24iLCJwYXJzZWQiLCJlb3MiLCJodHRwRW5kcG9pbnQiLCJjb250cmFjdHMiLCJhY3Rpb25zIiwiYWN0aW9uIiwicmVkdWNlIiwiYWNjIiwiaW5jbHVkZXMiLCJhbGwiLCJjb250cmFjdEFjY291bnQiLCJjb250cmFjdCIsImZjIiwiY29udHJhY3RBY2NvdW50TmFtZSIsInR5cGVOYW1lIiwiZnJvbUJ1ZmZlciIsImZjQWN0aW9uIiwiYWJpQ2FjaGUiLCJhdXRob3JpemF0aW9uIiwiY2xvbmUiLCJhc3NpZ24iLCJyZXF1ZXN0VHJhbnNmZXIiLCJ0byIsImFtb3VudCIsIm9wdGlvbnMiLCJzeW1ib2wiLCJtZW1vIiwiZGVjaW1hbHMiLCJ0cmFuc2ZlciIsInRvQWNjb3VudCIsIlBsdWdpbiIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImFzc2VydFRoaXNJbml0aWFsaXplZCIsIl9nZXRQcm90b3R5cGVPZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2dCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0Qlgs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VCxFQUFXcFMsV0FBYW9TLEVBQVdwUyxhQUFjLEVBQ2pEb1MsRUFBV3RQLGNBQWUsRUFDdEIsVUFBV3NQLElBQVlBLEVBQVd2UCxVQUFXLEdBQ2pEL0MsT0FBT0MsZUFBZW1TLEVBQVFFLEVBQVd6UixJQUFLeVIsSUFVbERqVCxFQUFPRCxRQU5QLFNBQXNCOFMsRUFBYUssRUFBWUMsR0FHN0MsT0FGSUQsR0FBWUosRUFBa0JELEVBQVloUixVQUFXcVIsR0FDckRDLEdBQWFMLEVBQWtCRCxFQUFhTSxHQUN6Q04sSSxnQkNFVDdTLEVBQU9ELFFBZlAsU0FBeUI4RCxFQUFLckMsRUFBS04sR0FZakMsT0FYSU0sS0FBT3FDLEVBQ1RsRCxPQUFPQyxlQUFlaUQsRUFBS3JDLEVBQUssQ0FDOUJOLE1BQU9BLEVBQ1BMLFlBQVksRUFDWjhDLGNBQWMsRUFDZEQsVUFBVSxJQUdaRyxFQUFJckMsR0FBT04sRUFHTjJDLEksa0JDWlQsSUFBSUUsRUFBVSxFQUFRLElBRWxCcVAsRUFBd0IsRUFBUSxJQVVwQ3BULEVBQU9ELFFBUlAsU0FBb0MrQyxFQUFNMUMsR0FDeEMsT0FBSUEsR0FBMkIsV0FBbEIyRCxFQUFRM0QsSUFBc0MsbUJBQVRBLEVBSTNDZ1QsRUFBc0J0USxHQUhwQjFDLEksZ0JDTlgsU0FBU2lULEVBQWdCM1MsR0FJdkIsT0FIQVYsRUFBT0QsUUFBVXNULEVBQWtCMVMsT0FBTzBDLGVBQWlCMUMsT0FBT21HLGVBQWlCLFNBQXlCcEcsR0FDMUcsT0FBT0EsRUFBRXlELFdBQWF4RCxPQUFPbUcsZUFBZXBHLElBRXZDMlMsRUFBZ0IzUyxHQUd6QlYsRUFBT0QsUUFBVXNUIiwiZmlsZSI6InNjYXR0ZXJqcy1wbHVnaW4tbHlueC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjk1KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCJmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXN5bmNUb0dlbmVyYXRvcjsiLCJ2YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9zZXRQcm90b3R5cGVPZlwiKTtcblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbmhlcml0czsiLCJmdW5jdGlvbiBfdHlwZW9mMihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZjIob2JqKTsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQ7IiwibW9kdWxlLmV4cG9ydHMgPSBTY2F0dGVySlM7IiwiZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2Y7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBpZiAoISh0b1N0cmluZ1RhZ1N5bWJvbCBpbiBnZW5GdW4pKSB7XG4gICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCJpbXBvcnQge0Jsb2NrY2hhaW5zLCBOZXR3b3JrLCBQbHVnaW4sIFBsdWdpblR5cGVzLCBTb2NrZXRTZXJ2aWNlLCBXQUxMRVRfTUVUSE9EU30gZnJvbSAnQHNjYXR0ZXJqcy9jb3JlJztcblxubGV0IG5ldHdvcms7XG5cbmxldCBpc0F2YWlsYWJsZSA9IGZhbHNlO1xuaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0aWYodHlwZW9mIHdpbmRvdy5seW54TW9iaWxlICE9PSAndW5kZWZpbmVkJykgaXNBdmFpbGFibGUgPSB0cnVlO1xuXHRlbHNlIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdseW54TW9iaWxlTG9hZGVkJywgKCkgPT4gaXNBdmFpbGFibGUgPSB0cnVlKTtcbn1cblxuY29uc3QgcG9sbEV4aXN0ZW5jZSA9IGFzeW5jIChyZXNvbHZlciA9IG51bGwsIHRyaWVzID0gMCkgPT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UociA9PiB7XG5cdFx0aWYoIXJlc29sdmVyKSByZXNvbHZlciA9IHI7XG5cdFx0aWYoaXNBdmFpbGFibGUpIHJldHVybiByZXNvbHZlcih0cnVlKTtcblx0XHRpZih0cmllcyA+IDUpIHJldHVybiByZXNvbHZlcihmYWxzZSk7XG5cdFx0c2V0VGltZW91dCgoKSA9PiBwb2xsRXhpc3RlbmNlKHJlc29sdmVyLCB0cmllcyArIDEpLCAxMDApO1xuXHR9KVxufTtcblxuXG5jb25zdCBoYXNoSGV4ID0gYnVmZmVyID0+IHtcblx0bGV0IGRpZ2VzdCA9ICcnO1xuXHRsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuXHRmb3IobGV0IGkgPSAwOyBpIDwgdmlldy5ieXRlTGVuZ3RoOyBpICs9IDQpIHtcblx0XHRjb25zdCBQQURESU5HID0gJzAwMDAwMDAwJztcblx0XHRkaWdlc3QgKz0gKFBBRERJTkcgKyB2aWV3LmdldFVpbnQzMihpKS50b1N0cmluZygxNikpLnNsaWNlKC1QQURESU5HLmxlbmd0aClcblx0fVxuXG5cdHJldHVybiBkaWdlc3Q7XG59O1xuXG5jb25zdCBzaGEyNTYgPSBhc3luYyBkYXRhID0+IHtcblx0Y29uc3QgYnVmZmVyID0gbmV3IFRleHRFbmNvZGVyKFwidXRmLThcIikuZW5jb2RlKGRhdGEpO1xuXHRyZXR1cm4gaGFzaEhleChhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGJ1ZmZlcikpO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYXR0ZXJMeW54IGV4dGVuZHMgUGx1Z2luIHtcblxuICAgIGNvbnN0cnVjdG9yKGVvc2pzKXtcblx0ICAgIHN1cGVyKEJsb2NrY2hhaW5zLkVPUywgUGx1Z2luVHlwZXMuV0FMTEVUX1NVUFBPUlQpO1xuXG4gICAgXHRpZighZW9zanMpIHtcbiAgICBcdFx0Y29uc29sZS5lcnJvcignTHlueCBQbHVnaW46IFlvdSBtdXN0IHBhc3MgaW4gYW4gZW9zanMgdmVyc2lvbi4gRWl0aGVyICh7QXBpLCBKc29uUnBjfSkgZm9yIGVvc2pzMiBvciAoRW9zKSBmb3IgZW9zanMxJyk7XG4gICAgXHRcdHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMubmFtZSA9ICdMeW54Jztcblx0ICAgIHRoaXMuaXNFb3NqczIgPSBmYWxzZTtcblxuXHQgICAgLy8gZW9zanMyXG5cdCAgICBpZihlb3Nqcy5oYXNPd25Qcm9wZXJ0eSgnSnNvblJwYycpKXtcblx0ICAgIFx0dGhpcy5lb3NqcyA9IGVvc2pzO1xuXHRcdCAgICB0aGlzLmlzRW9zanMyID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgXHRpZih0eXBlb2YgZW9zanMgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcignTHlueCBQbHVnaW46IEludmFsaWQgZW9zanMuIFBsZWFzZSB1c2UgMTYuMC45IG9yIDIwKycpO1xuXHRcdCAgICB0aGlzLmVvc2pzID0gZW9zanM7XG5cdCAgICB9XG4gICAgfVxuXG4gICAgaW5pdChjb250ZXh0LCBob2xkZXJGbnMsIHNvY2tldFNldHRlcnMpe1xuXHQgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblx0ICAgIHRoaXMuaG9sZGVyRm5zID0gaG9sZGVyRm5zO1xuXHQgICAgdGhpcy5zb2NrZXRTZXR0ZXJzID0gc29ja2V0U2V0dGVycztcbiAgICB9XG5cblx0YXN5bmMgY29ubmVjdChwbHVnaW5OYW1lKXtcbiAgICBcdHRoaXMucGx1Z2luID0gcGx1Z2luTmFtZTtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG5cdFx0XHRjb25zdCBmb3VuZCA9IGF3YWl0IHBvbGxFeGlzdGVuY2UoKTtcblx0XHRcdGlmKGZvdW5kKSB7XG5cdFx0XHRcdGlmKCF0aGlzLmhvbGRlckZucy5nZXQoKS53YWxsZXQpIHRoaXMuaG9sZGVyRm5zLmdldCgpLndhbGxldCA9IHRoaXMubmFtZTtcblx0XHRcdFx0cmVzb2x2ZSh0cnVlKTtcblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cblx0YXN5bmMgcnVuQWZ0ZXJJbnRlcmZhY2luZygpe1xuXHRcdHRoaXMubWV0aG9kcygpW1dBTExFVF9NRVRIT0RTLmdldElkZW50aXR5XSgpO1xuXHRcdGNvbnN0IHNlbGZTb2NrZXQgPSB7IHNlbmRBcGlSZXF1ZXN0OnggPT4gdGhpcy5tZXRob2RzKClbeC50eXBlXSh4LnBheWxvYWQpIH07XG5cdFx0dGhpcy5zb2NrZXRTZXR0ZXJzLm1hcCh4ID0+IHgoc2VsZlNvY2tldCkpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cbiAgICBtZXRob2RzKCl7XG4gICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgW1dBTExFVF9NRVRIT0RTLmlzQ29ubmVjdGVkXTphc3luYyAoKSA9PiB0cnVlLFxuXHQgICAgICAgIFtXQUxMRVRfTUVUSE9EUy5kaXNjb25uZWN0XTphc3luYyAoKSA9PiB0cnVlLFxuXHQgICAgICAgIFtXQUxMRVRfTUVUSE9EUy5pc1BhaXJlZF06YXN5bmMgKCkgPT4gdHJ1ZSxcblxuXHQgICAgICAgIFtXQUxMRVRfTUVUSE9EUy5nZXRJZGVudGl0eV06YXN5bmMgKHJlcXVpcmVkRmllbGRzKSA9PiB7XG5cdFx0ICAgICAgICBsZXQgaWRlbnRpdHk7XG5cblx0XHQgICAgICAgIGlmKCFyZXF1aXJlZEZpZWxkcykgcmVxdWlyZWRGaWVsZHMgPSB7fTtcblxuXHRcdCAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2hhaW5JZCA9IHJlcXVpcmVkRmllbGRzLmhhc093blByb3BlcnR5KCdhY2NvdW50cycpICYmIHJlcXVpcmVkRmllbGRzLmFjY291bnRzLmxlbmd0aFxuXHRcdFx0ICAgICAgICA/IHJlcXVpcmVkRmllbGRzLmFjY291bnRzWzBdLmNoYWluSWRcblx0XHQgICAgICAgICAgICA6ICdhY2EzNzZmMjA2YjhmYzI1YTZlZDQ0ZGJkYzY2NTQ3YzM2YzZjMzNlM2ExMTlmZmJlYWVmOTQzNjQyZjBlOTA2JztcblxuXHRcdCAgICAgICAgY29uc3QgYWNjb3VudFN0YXRlID0gYXdhaXQgd2luZG93Lmx5bnhNb2JpbGUucmVxdWVzdFNldEFjY291bnQoKTtcblx0XHQgICAgICAgIGlmICghYWNjb3VudFN0YXRlKSByZXR1cm4gbnVsbDtcblx0XHQgICAgICAgIGNvbnN0IHBlcm0gPSBhY2NvdW50U3RhdGUuYWNjb3VudC5wZXJtaXNzaW9ucy5maW5kKHggPT4geC5wZXJtX25hbWUgPT09ICdhY3RpdmUnKTtcblx0XHQgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHBlcm0ucmVxdWlyZWRfYXV0aC5rZXlzWzBdLmtleTtcblx0XHQgICAgICAgIGNvbnN0IGNoYWluSWQgPSBhY2NvdW50U3RhdGUuY2hhaW5JZCB8fCByZXF1ZXN0ZWRDaGFpbklkO1xuXG5cdFx0ICAgICAgICBpZihjaGFpbklkICE9PSByZXF1ZXN0ZWRDaGFpbklkKXtcblx0XHRcdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVc2VyIGRvZXMgbm90IGhhdmUgYW4gYWNjb3VudCB3aXRoIHRoZSBjaGFpbklkIFwiJHtyZXF1ZXN0ZWRDaGFpbklkfVwiIHNlbGVjdGVkIGluIEx5bnguYCk7XG5cdFx0ICAgICAgICB9XG5cblx0XHQgICAgICAgIGNvbnN0IGFjY291bnRzID0gW3tcblx0XHRcdCAgICAgICAgbmFtZTogYWNjb3VudFN0YXRlLmFjY291bnQuYWNjb3VudF9uYW1lLFxuXHRcdFx0ICAgICAgICBhdXRob3JpdHk6IHBlcm0ucGVybV9uYW1lLFxuXHRcdFx0ICAgICAgICBwdWJsaWNLZXksXG5cdFx0XHQgICAgICAgIGJsb2NrY2hhaW46IEJsb2NrY2hhaW5zLkVPUyxcblx0XHRcdCAgICAgICAgaXNIYXJkd2FyZTogZmFsc2UsXG5cdFx0XHQgICAgICAgIGNoYWluSWRcblx0XHQgICAgICAgIH1dO1xuXG5cdFx0ICAgICAgICBpZGVudGl0eSA9IHtcblx0XHRcdCAgICAgICAgbmFtZTogYWNjb3VudHNbMF0ubmFtZSxcblx0XHRcdCAgICAgICAgYWNjb3VudHMsXG5cdFx0XHQgICAgICAgIHB1YmxpY0tleVxuXHRcdCAgICAgICAgfTtcblxuXHRcdCAgICAgICAgdGhpcy5jb250ZXh0LmlkZW50aXR5ID0gaWRlbnRpdHk7XG5cdFx0ICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBbV0FMTEVUX01FVEhPRFMuZm9yZ2V0SWRlbnRpdHldOmFzeW5jICgpID0+IHtcblx0XHQgICAgICAgIHRoaXMuY29udGV4dC5pZGVudGl0eSA9IG51bGw7XG5cdFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFsnaWRlbnRpdHlGcm9tUGVybWlzc2lvbnMnXTphc3luYyAoKSA9PiB0aGlzLmNvbnRleHQuaWRlbnRpdHksXG5cdCAgICAgICAgW1dBTExFVF9NRVRIT0RTLmdldElkZW50aXR5RnJvbVBlcm1pc3Npb25zXTphc3luYyAoKSA9PiB0aGlzLmNvbnRleHQuaWRlbnRpdHksXG5cblx0ICAgICAgICBbV0FMTEVUX01FVEhPRFMuZ2V0QXJiaXRyYXJ5U2lnbmF0dXJlXToocHVibGljS2V5LCBkYXRhKSA9PiB7XG5cdFx0ICAgICAgICBjb25zdCBvcmlnaW4gPSBTb2NrZXRTZXJ2aWNlLmdldE9yaWdpbk9yUGx1Z2luKHRoaXMucGx1Z2luKTtcblx0XHQgICAgICAgIHJldHVybiB3aW5kb3cubHlueE1vYmlsZS5yZXF1ZXN0QXJiaXRyYXJ5U2lnbmF0dXJlKHtkYXRhLCB3aGF0Rm9yOmAke29yaWdpbn0gaXMgcmVxdWVzdGluZyBhbiBhcmJpdHJhcnkgc2lnbmF0dXJlYH0pO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgW1dBTExFVF9NRVRIT0RTLmF1dGhlbnRpY2F0ZV06YXN5bmMgKG5vbmNlLCBkYXRhID0gbnVsbCwgcHVibGljS2V5ID0gbnVsbCkgPT4ge1xuXHRcdCAgICAgICAgY29uc3Qgb3JpZ2luID0gU29ja2V0U2VydmljZS5nZXRPcmlnaW5PclBsdWdpbih0aGlzLnBsdWdpbik7XG5cdFx0ICAgICAgICBkYXRhID0gZGF0YSA/IGRhdGEgOiBvcmlnaW47XG5cdFx0ICAgICAgICBjb25zdCB0b1NpZ24gPSBhd2FpdCBzaGEyNTYoYXdhaXQgc2hhMjU2KGRhdGEpK2F3YWl0IHNoYTI1Nihub25jZSkpXG5cdFx0ICAgICAgICByZXR1cm4gd2luZG93Lmx5bnhNb2JpbGUucmVxdWVzdEFyYml0cmFyeVNpZ25hdHVyZSh7ZGF0YTp0b1NpZ24sIHdoYXRGb3I6YCR7b3JpZ2lufSB3YW50cyB0byBhdXRoZW50aWNhdGUgeW91ciBwdWJsaWMga2V5YH0pO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBbV0FMTEVUX01FVEhPRFMucmVxdWVzdFNpZ25hdHVyZV06YXN5bmMgKHthYmlzLCB0cmFuc2FjdGlvbiwgbmV0d29ya30pID0+IHtcblx0XHQgICAgICAgIGxldCBwYXJzZWQ7XG5cblx0XHQgICAgICAgIGlmKHRoaXMuaXNFb3NqczIpe1xuXHRcdFx0ICAgICAgICBjb25zdCBycGMgPSBuZXcgdGhpcy5lb3Nqcy5Kc29uUnBjKE5ldHdvcmsuZnJvbUpzb24obmV0d29yaykuZnVsbGhvc3QoKSk7XG5cdFx0XHQgICAgICAgIGNvbnN0IE9QVElPTlMgPSB7cnBjfTtcblx0XHRcdCAgICAgICAgT2JqZWN0LmtleXModGhpcy5lb3NqcykubWFwKGtleSA9PiB7XG5cdFx0XHQgICAgICAgIFx0aWYoa2V5ID09PSAnSnNvblJwYycgfHwga2V5ID09PSAnQXBpJykgcmV0dXJuO1xuXHRcdFx0ICAgICAgICBcdE9QVElPTlNba2V5XSA9IHRoaXMuZW9zanNba2V5XTtcblx0XHRcdCAgICAgICAgfSk7XG5cdFx0XHQgICAgICAgIGNvbnN0IGFwaSA9IG5ldyB0aGlzLmVvc2pzLkFwaShPUFRJT05TKTtcblxuXHRcdFx0ICAgICAgICB0cmFuc2FjdGlvbi5hYmlzLm1hcCgoe2FjY291bnRfbmFtZSwgYWJpOnJhd0FiaX0pID0+IGFwaS5jYWNoZWRBYmlzLnNldChhY2NvdW50X25hbWUsIHsgcmF3QWJpLCBhYmk6YXBpLnJhd0FiaVRvSnNvbihyYXdBYmkpIH0pKTtcblx0XHRcdCAgICAgICAgcGFyc2VkID0gYXdhaXQgYXBpLmRlc2VyaWFsaXplVHJhbnNhY3Rpb25XaXRoQWN0aW9ucyh0cmFuc2FjdGlvbi5zZXJpYWxpemVkVHJhbnNhY3Rpb24pO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgZWxzZSB7XG5cdFx0ICAgICAgICBcdGNvbnN0IGVvcyA9IG5ldyB0aGlzLmVvc2pzKHtodHRwRW5kcG9pbnQ6TmV0d29yay5mcm9tSnNvbihuZXR3b3JrKS5mdWxsaG9zdCgpLCBjaGFpbklkOm5ldHdvcmsuY2hhaW5JZH0pO1xuXHRcdCAgICAgICAgXHRsZXQgYWJpcyA9IHt9O1xuXHRcdFx0ICAgICAgICBjb25zdCBjb250cmFjdHMgPSB0cmFuc2FjdGlvbi5hY3Rpb25zLm1hcChhY3Rpb24gPT4gYWN0aW9uLmFjY291bnQpLnJlZHVjZSgoYWNjLHgpID0+IHtcblx0XHRcdCAgICAgICAgXHRpZighYWNjLmluY2x1ZGVzKHgpKSBhY2MucHVzaCh4KTtcblx0XHRcdCAgICAgICAgXHRyZXR1cm4gYWNjO1xuXHRcdFx0ICAgICAgICB9LCBbXSk7XG5cdFx0XHQgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNvbnRyYWN0cy5tYXAoYXN5bmMgY29udHJhY3RBY2NvdW50ID0+IHtcblx0XHRcdFx0ICAgICAgICBhYmlzW2NvbnRyYWN0QWNjb3VudF0gPSAoYXdhaXQgZW9zLmNvbnRyYWN0KGNvbnRyYWN0QWNjb3VudCkpLmZjO1xuXHRcdFx0ICAgICAgICB9KSk7XG5cblx0XHRcdCAgICAgICAgcGFyc2VkID0ge2FjdGlvbnM6YXdhaXQgUHJvbWlzZS5hbGwodHJhbnNhY3Rpb24uYWN0aW9ucy5tYXAoYXN5bmMgKGFjdGlvbiwgaW5kZXgpID0+IHtcblx0XHRcdFx0ICAgICAgICBjb25zdCBjb250cmFjdEFjY291bnROYW1lID0gYWN0aW9uLmFjY291bnQ7XG5cdFx0XHRcdCAgICAgICAgbGV0IGFiaSA9IGFiaXNbY29udHJhY3RBY2NvdW50TmFtZV07XG5cblx0XHRcdFx0ICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGFiaS5hYmkuYWN0aW9ucy5maW5kKHggPT4geC5uYW1lID09PSBhY3Rpb24ubmFtZSkudHlwZTtcblx0XHRcdFx0ICAgICAgICBjb25zdCBkYXRhID0gYWJpLmZyb21CdWZmZXIodHlwZU5hbWUsIGFjdGlvbi5kYXRhKTtcblx0XHRcdFx0ICAgICAgICBjb25zdCBhY3Rpb25BYmkgPSBhYmkuYWJpLmFjdGlvbnMuZmluZChmY0FjdGlvbiA9PiBmY0FjdGlvbi5uYW1lID09PSBhY3Rpb24ubmFtZSk7XG5cdFx0XHRcdCAgICAgICAgZW9zLmZjLmFiaUNhY2hlLmFiaShjb250cmFjdEFjY291bnROYW1lLCBhYmkuYWJpKTtcblxuXHRcdFx0XHQgICAgICAgIHJldHVybiB7XG5cdFx0XHRcdFx0ICAgICAgICBkYXRhLFxuXHRcdFx0XHRcdCAgICAgICAgYWNjb3VudDphY3Rpb24uYWNjb3VudCxcblx0XHRcdFx0XHQgICAgICAgIG5hbWU6YWN0aW9uLm5hbWUsXG5cdFx0XHRcdFx0ICAgICAgICBhdXRob3JpemF0aW9uOmFjdGlvbi5hdXRob3JpemF0aW9uLFxuXHRcdFx0XHQgICAgICAgIH07XG5cdFx0XHQgICAgICAgIH0pKX07XG5cblx0XHRcdCAgICAgICAgY29uc3QgY2xvbmUgPSBPYmplY3QuYXNzaWduKHt9LCB0cmFuc2FjdGlvbik7XG5cdFx0XHQgICAgICAgIGRlbGV0ZSBjbG9uZS5hY3Rpb25zO1xuXHRcdFx0ICAgICAgICBwYXJzZWQgPSBPYmplY3QuYXNzaWduKHBhcnNlZCwgY2xvbmUpO1xuXG5cdFx0ICAgICAgICB9XG5cblx0XHQgICAgICAgIHJldHVybiB3aW5kb3cubHlueE1vYmlsZS5yZXF1ZXN0U2lnbmF0dXJlKHBhcnNlZCk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIFtXQUxMRVRfTUVUSE9EUy5yZXF1ZXN0VHJhbnNmZXJdOihuZXR3b3JrLCB0bywgYW1vdW50LCBvcHRpb25zID0ge30pID0+IHtcblx0ICAgICAgICBcdGxldCB7Y29udHJhY3QsIHN5bWJvbCwgbWVtbywgZGVjaW1hbHN9ID0gb3B0aW9ucztcblx0ICAgICAgICBcdGlmKCFjb250cmFjdCkgY29udHJhY3QgPSAnZW9zaW8udG9rZW4nO1xuXHQgICAgICAgIFx0aWYoIXN5bWJvbCkgc3ltYm9sID0gJ0VPUyc7XG5cblx0XHQgICAgICAgIHJldHVybiB3aW5kb3cubHlueE1vYmlsZS50cmFuc2Zlcih7IGNvbnRyYWN0LCBzeW1ib2wsIHRvQWNjb3VudDp0bywgYW1vdW50LCBtZW1vIH0pO1xuXHQgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuXG5pZih0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuXHR3aW5kb3cuU2NhdHRlckx5bnggPSBTY2F0dGVyTHlueDtcbn1cbiIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgYXNzZXJ0VGhpc0luaXRpYWxpemVkID0gcmVxdWlyZShcIi4vYXNzZXJ0VGhpc0luaXRpYWxpemVkXCIpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuOyIsImZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZjsiXSwic291cmNlUm9vdCI6IiJ9